focus_tree = {
	id = brazil_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = BRA
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 50 y = 1600 }
	
	focus = {
		id = BRA_communist_repression
		icon = GFX_goal_anti_comintern_pact
		mutually_exclusive = { focus = BRA_lift_law_of_national_security }
		x = 3
		y = 0

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				has_government = communism
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 120
			hidden_effect = {
				country_event = { id = brazil.1 days = 7 }
			}
		}
	}
	
	focus = {
		id = BRA_cohen_plan
		icon = GFX_goal_generic_radar
		prerequisite = { focus = BRA_communist_repression }
		x = 0
		y = 1
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			NOT = {
				has_government = communism
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_coup_preparations
			hidden_effect = {
				country_event = { id = brazil.2 days = 30 }
			}
		}
	}
	
	focus = {
		id = BRA_polish_constitution
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = BRA_cohen_plan }
		x = 0
		y = 2
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			OR = {
				neutrality > 0.6
				fascism > 0.3
			}
		}

		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			#add_political_power = 120
			remove_ideas = BRA_coup_preparations
			set_party_name = { ideology = neutrality long_name = BRA_estado_novo_long name = BRA_estado_novo }
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			hidden_effect = {
				country_event = { id = brazil.17 days = 7 }
			}
		}
	}
	
	focus = {
		id = BRA_extinguish_political_parties
		icon = GFX_focus_generic_strike_at_democracy2
		prerequisite = { focus = BRA_polish_constitution }
		mutually_exclusive = { focus = BRA_integralist_coup }
		mutually_exclusive = { focus = BRA_restore_monarchy }
		x = 0
		y = 3
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
		}

		available = {
			
		}

		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 300
			hidden_effect = {
				country_event = { id = brazil.3 days = 60 }
			}
		}
	}
	
	focus = {
		id = BRA_integralist_coup
		icon = GFX_goal_support_fascism
		prerequisite = { focus = BRA_polish_constitution }
		mutually_exclusive = { focus = BRA_extinguish_political_parties }
		mutually_exclusive = { focus = BRA_restore_monarchy }
		x = -2
		y = 3
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			fascism > 0.3
		}

		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			news_event = { id = brazil.27 }
		}
	}
	
	focus = {
		id = BRA_restore_monarchy
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = BRA_polish_constitution }
		mutually_exclusive = { focus = BRA_extinguish_political_parties }
		mutually_exclusive = { focus = BRA_integralist_coup }
		x = 2
		y = 3
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			news_event = { id = brazil.4 }
			set_party_name = { ideology = neutrality long_name = BRA_monarquistas_long name = BRA_monarquistas }
			set_cosmetic_tag = BRZ
			add_ideas = BRA_monarchy_restored
			if = {
				limit = {
					has_government = neutrality
				}
				create_country_leader = {
					name = "Pedro Henrique de Orléans e Bragança"
					desc = "POLITICS_PEDRO_HENRIQUE_DESC"
					picture = "Portrait_Brazil_Pedro_Henrique.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						#
					}
					id = 1822
				}
				hidden_effect = {
					create_country_leader = {
						name = "Pedro Henrique de Orléans e Bragança"
						desc = "POLITICS_PEDRO_HENRIQUE_DESC"
						picture = "Portrait_Brazil_Pedro_Henrique.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
							#
						}
						id = 1823
					}
				}
				else = {
					create_country_leader = {
						name = "Pedro Henrique de Orléans e Bragança"
						desc = "POLITICS_PEDRO_HENRIQUE_DESC"
						picture = "Portrait_Brazil_Pedro_Henrique.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
							#
						}
						id = 1823
					}
				}
			}
		}
	}
	
	focus = {
		id = BRA_take_uruguay_by_force
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = BRA_restore_monarchy }
		x = 2
		y = 4
		relative_position_id = BRA_communist_repression
		will_lead_to_war_with = URG
		will_lead_to_war_with = ARG #if after Anschluss
		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 0.5
				URG = { is_in_faction = yes }
			}
		}

		available = {
			OR = {
				country_exists = URG
				300 = {
					is_controlled_by = OWNER
				}
			}
			is_subject = no
		}

		bypass = {
			BRA = { owns_state = 300 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			random_country = {
				limit = {
					owns_state = 300
				}
				BRA = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = { 300 }
					}
				}
			}
			add_state_claim = 300
		}
	}
	
	focus = {
		id = BRA_restore_empire
		icon = GFX_focus_generic_home_defense #GFX_BRA_brazilian_empire
		prerequisite = { focus = BRA_take_uruguay_by_force focus = BRA_offer_union_to_uruguay }
		x = 3
		y = 5
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			BRA = { owns_state = 300 }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 200
			if = {
				limit = {
					BRA = { owns_state = 300 }
				}
				add_state_core = 300
			}
			add_ideas = BRA_glorious_brazil
			300 = { set_state_name = "Cisplatina" }
		}
	}
	
	focus = {
		id = BRA_restore_poder_moderador
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = BRA_take_uruguay_by_force }
		mutually_exclusive = { focus = BRA_state_council }
		x = 2
		y = 6
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			NOT = {
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			set_party_name = { ideology = fascism long_name = BRA_absolutistas_long name = BRA_absolutistas }
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			swap_ideas = {
				add_idea = BRA_monarchy_restored_3
				remove_idea = BRA_monarchy_restored
			}
		}
	}
	
	focus = {
		id = BRA_rebuild_navy
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = BRA_restore_poder_moderador focus = BRA_state_council }
		x = 3
		y = 7
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			NOT = {
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			
		}

		completion_reward = {
			add_ideas = BRA_rebuild_navy_idea
		}
	}
	
	focus = {
		id = BRA_claim_portugal
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = BRA_restore_poder_moderador }
		x = 2
		y = 8
		relative_position_id = BRA_communist_repression
		
		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 0
				POR = { is_in_faction = yes }
			}
		}

		available = {
			country_exists = POR
		}

		bypass = {
			NOT = { country_exists = POR }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = POR
			}
		}
	}
	
	focus = {
		id = BRA_press_propaganda_department
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = BRA_extinguish_political_parties focus = BRA_integralist_coup focus = BRA_restore_monarchy }
		x = -1
		y = 4
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			NOT = {
				has_government = democratic
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_propaganda
		}
	}
	
	focus = {
		id = BRA_consolidation_of_labour_laws
		icon = GFX_goal_generic_production
		prerequisite = { focus = BRA_press_propaganda_department }
		x = -1
		y = 5
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_consolidation_of_labour_laws_idea
		}
	}
	
	focus = {
		id = BRA_pendular_diplomacy
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = BRA_extinguish_political_parties }
		x = 0
		y = 6
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_timed_idea = { idea = BRA_pendular_diplomacy_idea days = 1095 }
			GER= {
				add_opinion_modifier = { target = BRA modifier = pendular_diplomacy }
			}
			ENG= {
				add_opinion_modifier = { target = BRA modifier = pendular_diplomacy }
			}
			USA= {
				add_opinion_modifier = { target = BRA modifier = pendular_diplomacy }
			}
		}
	}
	focus = {
		id = BRA_align_argentina
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = BRA_integralist_coup }
		x = -2
		y = 6
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			ARG = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			ARG = {
				add_ideas = BRA_integralist_influence
				country_event = { id = generic.1 }
			}
		}
	}
	
	focus = {
		id = BRA_invite_german_military_mission
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = BRA_align_argentina }
		x = -2
		y = 8
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			GER = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
				has_opinion = { target = BRA value > 59 }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			GER = {
				country_event = { id = brazil.18 hours = 24 }	# Germany asked to send a Military Mission to Brazil
			}
		}
	}
	
	focus = {
		id = BRA_countertrade_with_germany
		icon = GFX_goal_generic_trade
		prerequisite = { focus = BRA_align_argentina focus = BRA_pendular_diplomacy }
		x = -1
		y = 7
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			GER = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			add_opinion_modifier = { target = GER modifier = countertrade }
			GER = {
				add_opinion_modifier = { target = BRA modifier = countertrade }
			}
			hidden_effect = {
				USA = {
					country_event = { id = brazil.21 days = 90 } # US President Worried About German-Brazilian Relations
				}
			}
		}
	}
	focus = {
		id = BRA_nationalist_bargain
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = BRA_pendular_diplomacy }
		x = 0
		y = 8
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			is_in_faction = no
			is_subject = no
			USA = { is_in_faction_with = ENG }
			ENG = { is_faction_leader = yes }
			NOT = { has_war_with = ENG }
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = BRA
				}
			}
			NOT = { has_war_with = GER }
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = BRA
				}
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				date > 1943.01.01
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			news_event = { id = brazil.23 }
		}
	}
	
	focus = {
		id = BRA_washington_accords
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = BRA_nationalist_bargain }
		mutually_exclusive = { focus = BRA_join_axis }
		mutually_exclusive = { focus = BRA_go_alone }
		mutually_exclusive = { focus = BRA_form_abc }
		x = 2
		y = 9
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 3
				has_global_flag = USA_military_support
				has_global_flag = USA_economic_support
			}
			modifier = {
				factor = 2
				OR = {
					has_global_flag = USA_military_support
					has_global_flag = USA_economic_support
				}
			}
			modifier = {
				factor = 0
				NOT = {
					OR = {
						has_global_flag = USA_military_support
						has_global_flag = USA_economic_support
					}
				}
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			USA = { is_in_faction_with = ENG }
			ENG = { is_faction_leader = yes }
			NOT = { has_war_with = ENG }
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = BRA
				}
			}
			has_global_flag = BRA_reply_received
		}

		bypass = {
			BRA = { is_in_faction_with = ENG }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			
		}

		completion_reward = {
			ENG = {
				country_event = generic.2
			}
			clr_global_flag = GER_economic_support
			clr_global_flag = GER_military_support
		}
	}
	
	focus = {
		id = BRA_go_alone
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = BRA_nationalist_bargain focus = BRA_restore_poder_moderador focus = BRA_state_council focus = BRA_joint_commission }
		mutually_exclusive = { focus = BRA_join_axis }
		mutually_exclusive = { focus = BRA_washington_accords }
		mutually_exclusive = { focus = BRA_form_abc }
		x = 4
		y = 9
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					AND = {
						has_global_flag = USA_military_support
						has_global_flag = USA_economic_support
					}
					AND = {
						has_global_flag = GER_military_support
						has_global_flag = GER_economic_support
					}
				}
			}
			modifier = {
				factor = 0.5
				OR = {
					has_global_flag = USA_military_support
					has_global_flag = USA_economic_support
					has_global_flag = GER_military_support
					has_global_flag = GER_economic_support
				}
			}
			modifier = {
				factor = 100
				OR = {
					NOT = {
						AND = {
							has_global_flag = USA_military_support
							has_global_flag = USA_economic_support
							has_global_flag = GER_military_support
							has_global_flag = GER_economic_support
						}
					}
					has_completed_focus = BRA_restore_monarchy
				}
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				AND = {
					has_completed_focus = BRA_nationalist_bargain
					has_global_flag = BRA_reply_received
				}
				OR = {
					has_completed_focus = BRA_restore_poder_moderador
					has_completed_focus = BRA_state_council
					has_completed_focus = BRA_joint_commission
				}
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			
		}

		completion_reward = {
			BRA = {
				set_rule = { can_create_factions = yes }
			}
			clr_global_flag = GER_economic_support
			clr_global_flag = GER_military_support
			clr_global_flag = USA_economic_support
			clr_global_flag = USA_military_support
		}
	}
	
	focus = {
		id = BRA_form_abc
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = BRA_joint_commission focus = BRA_nationalist_bargain focus = BRA_state_council }
		mutually_exclusive = { focus = BRA_join_axis }
		mutually_exclusive = { focus = BRA_washington_accords }
		mutually_exclusive = { focus = BRA_go_alone }
		x = 6
		y = 9
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				ARG = { has_government = democratic }
				ARG = { has_government = neutrality }
			}
			OR = {
				CHL = { has_government = democratic }
				CHL = { has_government = neutrality }
			}
			OR = {
				BRA = { has_government = democratic }
				BRA = { has_government = neutrality }
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			
		}

		completion_reward = {
			BRA = {
				set_rule = { can_create_factions = yes }
				create_faction = BRA_FACTION
			}
			ARG = {
				country_event = generic.5
			}
			CHL = {
				country_event = generic.5
			}
			clr_global_flag = GER_economic_support
			clr_global_flag = GER_military_support
			clr_global_flag = USA_economic_support
			clr_global_flag = USA_military_support
		}
	}
	
	focus = {
		id = BRA_build_vale
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = BRA_washington_accords focus = BRA_join_axis focus = BRA_go_alone focus = BRA_form_abc focus = BRA_aggressive_industrialization }
		x = 2
		y = 10
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_global_flag = USA_economic_support
				has_global_flag = GER_economic_support
				num_of_civilian_factories > 30
			}
			ROOT = { has_full_control_of_state = 505 } 
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			505 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_resource = {
					type = chromium
					amount = 24
				}
				add_resource = {
					type = aluminium
					amount = 24
				}
				add_resource = {
					type = tungsten
					amount = 24
				}
			}
		}

		completion_reward = {
			505 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_resource = {
					type = chromium
					amount = 24
				}
				add_resource = {
					type = aluminium
					amount = 24
				}
				add_resource = {
					type = tungsten
					amount = 24
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
			hidden_effect = {
				reduce_coffee_reliance = yes
			}
		}
	}
	focus = {
		id = BRA_build_csn
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = BRA_build_vale }
		x = 2
		y = 11
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_global_flag = USA_economic_support
				has_global_flag = GER_economic_support
				num_of_civilian_factories > 50
			}
			ROOT = { has_full_control_of_state = 500 } 
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			500 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 24
				}
			}
		}

		completion_reward = {
			500 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 24
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
			hidden_effect = {
				reduce_coffee_reliance = yes
			}
		}
	}
	
	focus = {
		id = BRA_forced_recruitment
		icon = GFX_goal_rhineland
		prerequisite = { focus = BRA_washington_accords focus = BRA_join_axis focus = BRA_go_alone focus = BRA_form_abc focus = BRA_aggressive_industrialization }
		x = 4
		y = 10
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_forced_recruitment_idea
		}
	}
	
	focus = {
		id = BRA_enact_semta
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = BRA_forced_recruitment }
		x = 4
		y = 11
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			ROOT = { has_full_control_of_state = 495 } 
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			495 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
					}
				}
				add_resource = {
					type = rubber
					amount = 30
				}
			}
		}

		completion_reward = {
			495 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
					}
				}
				add_resource = {
					type = rubber
					amount = 30
				}
			}
		}
	}
	focus = {
		id = BRA_modernize_army
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = BRA_washington_accords focus = BRA_join_axis focus = BRA_go_alone focus = BRA_form_abc focus = BRA_aggressive_industrialization }
		x = 0
		y = 10
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 3
				category = land_doctrine
			}
			if = { 
				limit = {
					OR = {
						has_global_flag = GER_military_support
						has_global_flag = USA_military_support
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = BRA_modernize_airforce
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = BRA_modernize_army }
		x = 0
		y = 11
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_air_foreign_license
			if = { 
				limit = {
					OR = {
						has_global_flag = GER_military_support
						has_global_flag = USA_military_support
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 0.5
				uses = 3
				category = air_doctrine
			}
		}
	}
	focus = {
		id = BRA_join_axis
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = BRA_nationalist_bargain focus = BRA_invite_german_military_mission }
		mutually_exclusive = { focus = BRA_washington_accords }
		mutually_exclusive = { focus = BRA_go_alone }
		mutually_exclusive = { focus = BRA_form_abc }
		x = -1
		y = 9
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					GER = {
						has_capitulated = yes
					}
					is_historical_focus_on = yes
					NOT = {
						OR = {
							has_global_flag = GER_military_support
							has_global_flag = GER_economic_support
						}
					}
				}
			}
			modifier = {
				factor = 3
				has_global_flag = GER_military_support
				has_global_flag = GER_economic_support
			}
			modifier = {
				factor = 2
				OR = {
					has_global_flag = GER_military_support
					has_global_flag = GER_economic_support
				}
			}
		}

		available = {
			GER = { is_faction_leader = yes }
			is_in_faction = no
			NOT = { has_war_with = GER }
			is_subject = no
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = BRA
				}
			}
			OR = {
				has_global_flag = BRA_reply_received
				has_completed_focus = BRA_invite_german_military_mission
			}
		}

		bypass = {
			BRA = { is_in_faction_with = GER }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			GER = {
				country_event = generic.2
			}
			clr_global_flag = USA_economic_support
			clr_global_flag = USA_military_support
		}
	}
	
	########################################
	#	DEMOCRATIC / COMMUNIST BRANCH
	########################################
	
	focus = {
		id = BRA_lift_law_of_national_security
		icon = GFX_goal_generic_demand_territory
		mutually_exclusive = { focus = BRA_communist_repression }
		x = 7
		y = 0
		relative_position_id = BRA_communist_repression

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 60
		}
	}
	
	focus = {
		id = BRA_respect_the_constitution
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = BRA_lift_law_of_national_security }
		mutually_exclusive = { focus = BRA_reestablish_prestes_column }
		x = -2
		y = 1
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 60
			#add_popularity = { ideology = democratic popularity = 0.1 }
		}
	}
	
	focus = {
		id = BRA_liberty
		icon = GFX_goal_support_democracy
		prerequisite = { focus = BRA_respect_the_constitution }
		x = -2
		y = 2
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_liberty
		}
	}
	
	focus = {
		id = BRA_new_republic
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = BRA_liberty }
		mutually_exclusive = { focus = BRA_restore_constitutional_monarchy }
		x = -1
		y = 3
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = BRA_1938_election_tt
				has_country_flag = BRA_1938_election
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_political_power = 300
		}
	}
	
	focus = {
		id = BRA_attract_foreign_capital
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = BRA_new_republic }
		x = -1
		y = 4
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_attract_foreign_capital_idea
		}
	}
	
	focus = {
		id = BRA_joint_commission
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = BRA_attract_foreign_capital }
		x = -1
		y = 6
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			USA = {
				country_event = { id = brazil.29 hours = 24 }	# USA asked to form a Joint Commission with Brazil
			}
		}
	}
	
	focus = {
		id = BRA_restore_constitutional_monarchy
		icon = GFX_focus_rom_handle_king
		prerequisite = { focus = BRA_liberty }
		mutually_exclusive = { focus = BRA_new_republic }
		x = -3
		y = 3
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			news_event = { id = brazil.4 }
			add_ideas = BRA_pedro_henrique
			set_cosmetic_tag = BRZ
			add_ideas = BRA_monarchy_restored_2
		}
	}
	
	focus = {
		id = BRA_offer_union_to_uruguay
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = BRA_restore_constitutional_monarchy }
		x = -3
		y = 4
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = URG
		}

		bypass = {
			BRA = { owns_state = 300 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			country_event = { id = brazil.5 }
		}
	}
	
	focus = {
		id = BRA_state_council
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = BRA_offer_union_to_uruguay focus = BRA_take_uruguay_by_force }
		mutually_exclusive = { focus = BRA_restore_poder_moderador }
		x = -3
		y = 6
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_state_council_idea
		}
	}
	
	focus = {
		id = BRA_reestablish_prestes_column
		icon = GFX_focus_YUG_pan_slavic_congress	#GFX_goal_support_communism
		prerequisite = { focus = BRA_lift_law_of_national_security }
		mutually_exclusive = { focus = BRA_respect_the_constitution }
		x = 2
		y = 1
		relative_position_id = BRA_lift_law_of_national_security

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_prestes_column_idea
			news_event = { id = brazil.34 }
		}
	}
	
	focus = {
		id = BRA_assassinate_vargas
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = BRA_reestablish_prestes_column }
		x = 0
		y = 1
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			communism > 0.3

		}

		bypass = {
			OR = {
				has_government = communism
				NOT = { has_country_leader = { id = 1808 } }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = { has_country_leader = { id = 1808 } }
				kill_country_leader = yes
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			news_event = { id = brazil.35 }
			add_ideas = communist_influence
			remove_ideas = BRA_prestes_column_idea
		}
	}
	
	focus = {
		id = BRA_depose_coroneis
		icon = GFX_focus_rom_parties_end
		prerequisite = { focus = BRA_assassinate_vargas }
		x = 0
		y = 2
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			communism > 0.4
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_depose_coroneis_idea
		}
	}
	
	focus = {
		id = BRA_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = BRA_depose_coroneis }
		mutually_exclusive = { focus = BRA_internationalism }
		x = -1
		y = 3
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 90
			modifier = {
				factor = 0
					SOV = { has_capitulated = yes }
			}
		}

		available = {
			NOT = { has_war_with = SOV }
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = BRA	
				}
			}
			is_subject = no
			SOV = { is_faction_leader = yes }
		}

		bypass = {
			BRA = {	is_in_faction_with = SOV }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			SOV = {
				country_event = generic.2
			}
		}
	}
	
	focus = {
		id = BRA_invite_soviet_advisers
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = BRA_join_comintern }
		x = -1
		y = 5
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			BRA = {	is_in_faction_with = SOV }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_soviet_advisers
		}
	}
	
	focus = {
		id = BRA_internationalism
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = BRA_depose_coroneis }
		mutually_exclusive = { focus = BRA_join_comintern }
		x = 1
		y = 3
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
					SOV = { has_capitulated = yes }
			}
		}

		available = {
			NOT = { BRA = {	is_in_faction_with = SOV } }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			BRA = {
				set_rule = { can_create_factions = yes }
				create_faction = BRA_COMMUNIST_FACTION
			}
		}
	}
	
	focus = {
		id = BRA_spread_revolution
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = BRA_internationalism }
		x = 1
		y = 5
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = { BRA = {	is_in_faction_with = SOV } }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			
		}

		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ARG
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = URG
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = PAR
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BOL
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = CHL
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = PRU
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = COL
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = VEN
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ECU
			}
		}
	}
	
	focus = {
		id = BRA_aggressive_industrialization
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = BRA_invite_soviet_advisers focus = BRA_spread_revolution }
		x = 0
		y = 8
		relative_position_id = BRA_reestablish_prestes_column

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = BRA_five_year_plans
		}
	}
	
	########################################
	#			ECONOMIC BRANCH
	########################################
	
	focus = {
		id = BRA_import_substitution
		icon = GFX_goal_generic_consumer_goods
		x = 7
		y = 0
		relative_position_id = BRA_lift_law_of_national_security
		
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = BRA_abc_paulista
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = BRA_import_substitution }
		x = -1
		y = 1
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}			
		}

		completion_reward = {
			501 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
			hidden_effect = {
				reduce_coffee_reliance = yes
			}
		}
	}
	
	focus = {
		id = BRA_companhia_brasileira_de_cartuchos
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = BRA_import_substitution }
		x = 1
		y = 1
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}			
		}

		completion_reward = {
			501 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = BRA_expand_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = BRA_abc_paulista focus = BRA_companhia_brasileira_de_cartuchos }
		x = 0
		y = 2
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = BRA_vale_paraiba
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = BRA_expand_infrastructure }
		x = -1
		y = 3
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}			
		}

		completion_reward = {
			500 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
			hidden_effect = {
				reduce_coffee_reliance = yes
			}
		}
	}
	
	focus = {
		id = BRA_fabrica_da_estrela
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = BRA_expand_infrastructure }
		x = 1
		y = 3
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}			
		}

		completion_reward = {
			502 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = BRA_expand_infrastructure_2
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = BRA_vale_paraiba focus = BRA_fabrica_da_estrela }
		x = 0
		y = 4
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		complete_tooltip = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = BRA_universidade_do_brasil
		icon = GFX_focus_research
		prerequisite = { focus = BRA_expand_infrastructure_2 }
		x = 0
		y = 5
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = BRA_expand_usp
		icon = GFX_focus_research
		prerequisite = { focus = BRA_universidade_do_brasil }
		x = 0
		y = 6
		relative_position_id = BRA_import_substitution
		
		available = {
			num_of_factories > 50
		}
		
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = BRA_cnp
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = BRA_expand_infrastructure_2 }
		x = -2
		y = 5
		relative_position_id = BRA_import_substitution

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			ROOT = { has_full_control_of_state = 499 } 
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			499 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
		}

		completion_reward = {
			499 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			custom_effect_tooltip = BRA_reduce_coffee_reliance_tt
			hidden_effect = {
				reduce_coffee_reliance = yes
			}
		}
	}
	
	focus = {
		id = BRA_rossi
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = BRA_expand_infrastructure_2 }
		x = 2
		y = 5
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}			
		}

		completion_reward = {
			502 = {
				if = {
					limit = {
						ROOT = { has_full_control_of_state = PREV } 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	########################################
	#			MILITARY BRANCH
	########################################
	
	focus = {
		id = BRA_reform_army
		icon = GFX_goal_generic_build_tank
		x = 6
		y = 0
		relative_position_id = BRA_import_substitution
		
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = BRA_french_doctrine
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = BRA_reform_army }
		mutually_exclusive = { focus = BRA_american_doctrine }
		x = -2
		y = 1
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 2
				category = cat_grand_battle_plan
			}
		}
	}
	
	focus = {
		id = BRA_improve_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = BRA_french_doctrine }
		x = -2
		y = 2
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.5
				uses = 2
				category = artillery
			}
		}
	}
	
	focus = {
		id = BRA_support_armor
		icon = GFX_goal_generic_defence
		prerequisite = { focus = BRA_improve_artillery focus = BRA_improve_mobility }
		mutually_exclusive = { focus = BRA_import_tanks }
		x = -1
		y = 3
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 2
				category = cat_light_armor
			}
		}
	}
	
	focus = {
		id = BRA_american_doctrine
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = BRA_reform_army }
		mutually_exclusive = { focus = BRA_french_doctrine }
		x = 0
		y = 1
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 2
				category = cat_superior_firepower
			}
		}
	}
	
	focus = {
		id = BRA_german_doctrine
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = BRA_reform_army }
		mutually_exclusive = { focus = BRA_french_doctrine }
		x = 2
		y = 1
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 2
				category = cat_mobile_warfare
			}
		}
	}
	
	focus = {
		id = BRA_improve_mobility
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = BRA_american_doctrine focus = BRA_german_doctrine }
		x = 1
		y = 2
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 0.5
				uses = 2
				technology = motorised_infantry
			}
		}
	}
	
	focus = {
		id = BRA_import_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = BRA_improve_mobility focus = BRA_support_armor }
		mutually_exclusive = { focus = BRA_support_armor }
		x = 1
		y = 3
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_ideas = BRA_import_tanks_idea
		}
	}
	
	focus = {
		id = BRA_selva
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = BRA_import_tanks focus = BRA_support_armor }
		x = 0
		y = 4
		relative_position_id = BRA_reform_army
		
		cost = 20

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			custom_effect_tooltip = BRA_jungle_warfare_tt
			hidden_effect = { set_technology = { jungle_warfare = 1 } }
		}
	}
}